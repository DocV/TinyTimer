<!doctype html>
<html>
	<head>
		<title>Tiny Timer</title>
		<meta charset="utf-8" />
		<link rel="shortcut icon" type="image/png" href="favicon.png" />
		<script type="text/javascript">
			function increment(){
				timers.forEach(function(current, index, array) {
					if (current.enabled){
						current.time++;
						current.element.textContent = formatTime(current.time);
					}
				})
			}
			var timers = [];
			
			function formatTime(time) {
				var hours = Math.floor(time / 3600)
				var output = (hours < 10 ? "0" : "") + hours + ":";
				var minutes = Math.floor((time % 3600) / 60)
				output += (minutes < 10 ? "0" : "") + minutes + ":";
				var seconds = time % 60
				output += (seconds < 10 ? "0" : "") + seconds;
				return output;
			}
			
			function loadTimers(){
				var timerElements = document.getElementsByClassName("time");
				
				Array.from(timerElements).forEach(function(current, index, array) {
					timers[index] = {}
					timers[index].element = current;
					timers[index].time = 0;
					timers[index].enabled = false;
				})
				
				window.setInterval(increment, 1000)
			}
			
			function startTimer(id){
				timers[id].enabled = true;
			}
			
			function stopTimer(id){
				timers[id].enabled = false;
			}
			
			function resetTimer(id){
				timers[id].time = 0;
				timers[id].element.textContent = formatTime(0);
			}
		</script>
	</head>
	<body onload="loadTimers()">
		<table id="timer_container">
			<tr id="timer0top">
				<td><div class="time" id="t0time">00:00:00</div></td>
				<td><button id="t0start" onclick="startTimer(0)">Start</button></td>
				<td><button id="t0stop" onclick="stopTimer(0)">Stop</button></td>
				<td><button id="t0reset" onclick="resetTimer(0)">Reset</button></td>
			</tr>
			<tr id="timer0bottom">
				<td>0:00:00</td>
			</tr>
		</table>
	</body>
</html>